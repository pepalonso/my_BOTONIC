import { __awaiter } from "tslib";
import { renderToStaticMarkup } from 'react-dom/server';
import { ReactBot } from './react-bot';
export class NodeApp {
    constructor(options) {
        this.bot = new ReactBot(Object.assign({ renderer: args => this.renderNode(args) }, options));
    }
    renderNode(args) {
        return __awaiter(this, void 0, void 0, function* () {
            return (yield this.bot.renderReactActions(args))
                .map(action => renderToStaticMarkup(action))
                .join('\n');
        });
    }
    input(args) {
        return this.bot.input(args);
    }
    getConfig() {
        return Object.entries(this.bot.plugins).map(([_, plugin]) => {
            return { id: plugin.id, name: plugin.name, config: plugin.config };
        });
    }
}
//# sourceMappingURL=node-app.js.map