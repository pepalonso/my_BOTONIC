"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.MessageImage = void 0;
const jsx_runtime_1 = require("react/jsx-runtime");
const react_1 = require("react");
const constants_1 = require("../../constants");
const contexts_1 = require("../../contexts");
const index_types_1 = require("../../index-types");
const environment_1 = require("../../util/environment");
const styles_1 = require("./styles");
const MessageImage = ({ imagestyle, sentBy }) => {
    const { getThemeProperty } = (0, react_1.useContext)(contexts_1.WebchatContext);
    const isSentByAgent = sentBy === index_types_1.SENDERS.agent;
    const isSentByUser = sentBy === index_types_1.SENDERS.user;
    const timestampsWithImage = getThemeProperty(constants_1.WEBCHAT.CUSTOM_PROPERTIES.messageTimestampsWithImage);
    const BotMessageImage = getThemeProperty(constants_1.WEBCHAT.CUSTOM_PROPERTIES.botMessageImage, getThemeProperty(constants_1.WEBCHAT.CUSTOM_PROPERTIES.brandImage, constants_1.WEBCHAT.DEFAULTS.LOGO));
    const AgentMessageImage = getThemeProperty(constants_1.WEBCHAT.CUSTOM_PROPERTIES.agentMessageImage, BotMessageImage);
    return (!timestampsWithImage &&
        !isSentByUser &&
        BotMessageImage && ((0, jsx_runtime_1.jsx)(styles_1.BotMessageImageContainer, Object.assign({ style: Object.assign(Object.assign({}, getThemeProperty(constants_1.WEBCHAT.CUSTOM_PROPERTIES.botMessageImageStyle)), imagestyle) }, { children: (0, jsx_runtime_1.jsx)("img", { style: { width: '100%' }, src: (0, environment_1.resolveImage)(isSentByAgent ? AgentMessageImage : BotMessageImage) }) }))));
};
exports.MessageImage = MessageImage;
//# sourceMappingURL=message-image.js.map